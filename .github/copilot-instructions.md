# Copilot Coding Agent 指示書

## 目的
AI関連ニュースを毎日自動収集・要約し、10分程度で読めるMarkdownファイルを生成する。

## 収集対象ニュースサイト（5サイト厳選）

1. **MIT Technology Review** (https://www.technologyreview.com/topic/artificial-intelligence/)
   - アカデミック視点、深い技術分析
   
2. **VentureBeat AI** (https://venturebeat.com/category/ai/)
   - ビジネス応用、投資動向
   
3. **TechCrunch AI** (https://techcrunch.com/tag/artificial-intelligence/)
   - スタートアップ、最新プロダクト
   
4. **The Verge AI** (https://www.theverge.com/ai-artificial-intelligence)
   - 社会的影響、わかりやすい解説
   
5. **Towards Data Science** (https://towardsdatascience.com/)
   - ハンズオン、実践的技術記事

## タスク

### 1. ニュース収集

#### 重複防止ロジック（必須）
**目的**: 連日で同じ記事が収集されるリスクを排除し、常に新鮮な情報を提供する

**手順**:
1. **履歴ファイルの読み込み**
   - `.article-history/articles-history.json` から過去7日分の記事URLとタイトルを読み込む
   - ファイルが存在しない場合は、空の履歴として処理を続行

2. **記事収集と重複チェック**
   - 上記5サイトからAI関連の最新ニュース（直近24時間以内）を収集
   - 各サイトから候補記事を抽出する際、以下を確認：
     - ✅ 記事のURLが過去7日分の履歴に含まれていないこと
     - ✅ 記事の公開日時が真に「過去24時間以内」であること（サイトのメタデータから取得）
     - ✅ 記事タイトルが既存記事と大きく異なること（同じニュースの別記事を防ぐ）
   - 重複する記事はスキップし、次の候補記事を選定
   - 各サイトから1-2件の重要記事を選定（合計5-10件程度）

3. **記事の重要度判断基準**
   - 技術的革新性
   - ビジネスへのインパクト
   - 社会的影響度
   - 実践的な学びの有無

4. **履歴ファイルの更新**
   - 収集完了後、新規記事の情報（URL、タイトル、公開日、収集日、出典）を `.article-history/articles-history.json` に追記
   - 7日より古い記事は自動的に削除（retention_days: 7）
   - `metadata.last_updated` を現在時刻（UTC）に更新
   - `metadata.total_articles` を更新

**JSONフォーマット**:
```json
{
  "articles": [
    {
      "url": "記事のURL",
      "title": "記事タイトル",
      "published_date": "YYYY-MM-DD",
      "collected_date": "YYYY-MM-DD",
      "source": "サイト名"
    }
  ],
  "metadata": {
    "last_updated": "ISO 8601形式のタイムスタンプ",
    "total_articles": 記事数,
    "retention_days": 7,
    "version": "1.0"
  }
}
```

**注意事項**:
- 公開日時が不明な記事は、最終更新日時やサイト上の表示日時で代用
- 履歴ファイルが破損している場合は、新規作成して処理を続行
- 重複チェック後も十分な記事数（最低5件）が確保できない場合は、収集範囲を48時間に拡大して再試行
  - **理由**: 週末や祝日、特定サイトの更新停滞時でも、読者に価値ある情報を提供するため
  - **重複防止との両立**: 48時間に拡大しても、履歴との重複チェックは必ず実施されるため、既出記事は除外される
  - **優先順位**: まず24時間以内の記事から重複を除いて選定し、5件未満の場合のみ48時間範囲に拡大

### 2. 要約作成
- 各記事を200-300文字で日本語要約
- 専門用語は適切に説明
- 読者にとっての重要性を明確化
- 10分で読める分量（約2000-3000文字）に調整

### 3. 構造化
以下の形式でMarkdownファイルを作成：

```markdown
# 🤖 AI Daily Digest - YYYY-MM-DD

*読了目安: 約10分 | 自動生成: Copilot Coding Agent*

---

## 📋 本日のハイライト
> 今日押さえておくべき3つのポイント

1. [ポイント1]
2. [ポイント2]
3. [ポイント3]

---

## 📰 ニュース詳細

### 1. [記事タイトル]
**出典**: [サイト名]  
**カテゴリ**: [研究・技術 / ビジネス / プロダクト / 社会]

[要約 200-300文字]

**💡 実践ポイント**: [このニュースから得られる学びやアクション]

---

### 2. [記事タイトル]
...

---

## 🎯 今日のアクションアイテム
- [ ] [具体的なアクション1]
- [ ] [具体的なアクション2]
- [ ] [具体的なアクション3]

---

## 📚 参考リンク
- [記事1タイトル](URL)
- [記事2タイトル](URL)
...

---
*Generated by Copilot Coding Agent | office8-inc/ai-news-digest*
```

### 4. 実践的アクションアイテム
各ニュースから読者が実行できる具体的なアクションを抽出：
- 新しいツールの試用
- 技術的な調査・検証
- ビジネス戦略の見直し
- 学習リソースの確認

## 出力先
`daily/YYYY-MM-DD.md` に保存

## 注意事項
- すべてのコンテンツは日本語で記述
- 元記事へのリンクを必ず含める
- 公平性を保ち、特定のサービスや企業への偏りを避ける
- 技術的な正確性を重視
- 読みやすさと情報密度のバランスを取る
